<div class="max-w-2xl mx-auto px-4 py-8">
  <h1 class="text-3xl font-bold mb-6 text-center">Generate HTML Snippet</h1>

  <%= form_with url: codegen_index_path, method: :post, local: true, data: { turbo: false }, class: "mb-8 bg-white shadow-md rounded px-8 pt-6 pb-8" do %>
    <div class="mb-4">
      <%= label_tag :component_type, "Select Component Type:", class: "block text-sm font-medium text-gray-700 mb-2" %>
      <%= select_tag :component_type, options_for_select([['Card', 'card'], ['Form', 'form'], ['Table', 'table']]), class: "w-full px-3 py-2 text-gray-700 border rounded-lg focus:outline-none focus:border-blue-500" %>
    </div>
    <div class="mb-4">
      <%= label_tag :prompt, "Enter your prompt:", class: "block text-sm font-medium text-gray-700 mb-2" %>
      <%= text_area_tag :prompt, @prompt, rows: 3, class: "w-full px-3 py-2 text-gray-700 border rounded-lg focus:outline-none focus:border-blue-500" %>
    </div>
    <div class="flex items-center justify-end">
      <%= submit_tag "Generate Snippet", class: "bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline" %>
    </div>
  <% end %>

  <% if @html_code.present? %>
    <div class="bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4">
      <h2 class="text-2xl font-semibold mb-4">Generated HTML Snippet:</h2>
      <pre class="bg-gray-100 p-4 rounded-lg overflow-x-auto mb-6 text-sm"><%= @html_code %></pre>

      <h2 class="text-2xl font-semibold mb-4">Preview:</h2>
      <div class="border p-4 rounded-lg">
        <%= @html_code.html_safe %>
      </div>
    </div>
  <% end %>
</div>